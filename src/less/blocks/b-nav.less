@import "../variables.less";

.ul-visible {
  display: block;
  position: relative;
  // margin-top: -27.5px;
  top: -100%;
  height: auto;
  list-style: none;
  width: 100%;
  padding-left: 0;
}
.ul-hidden {
  display: none;
  padding: 0;
}
.li-visible {
  position: relative;
  display: block;
  top: 0;
  left: 100%;
  width: 100%;
  min-width: 180px;
  white-space: nowrap;
  z-index: 11;
  margin-bottom: 0;
}

.b-nav {
  font-family: @ff;
  background-color: maroon;
  display: inline-flex;
  min-width: 100%;
  max-width: 100%;
  min-height: 30px;
  &__menu-container {
    box-sizing: border-box;
    display: none;
    position: fixed;
    top: @ratio-menu-vertical;
    z-index: 10;
    width: @ratio-nav-p;
  }
  &__menu-L0 {
    .ul-visible;
    & .b-nav__menu-L1 {
      .ul-hidden;
    }
    & li {
      box-sizing: border-box;
      cursor: pointer;
      height: 100vw * @ratio-nav * 0.8; // height of initial blocks
      margin-bottom: 10px;
      // padding: 5px 0;
      background-color: @theme-color-5; // initial level
      color: @theme-color-4;
      box-shadow: @normal-shadow;
      text-align: center;
      display: inline-block;
      float: left;
      clear: both;
      width: 100%;
      & a {
        position: relative;
        border: 4px solid @theme-color-5;
        width: 100%;
        height: 100%;
        display: inline-flex;
        flex-flow: column nowrap;
        align-items: center;
        justify-content: center;
        color: inherit;
        text-decoration: none;
        &::before,
        &::after {
          content: "";
          position: absolute;
          top: 0;
          right: 0;
          border-color: transparent;
          border-style: solid;
        }
        &::before {
          border-width: 0.5vw;
          border-right-color: @theme-color-5;
          border-top-color: @theme-color-5;
        }
        &::after {
          border-width: 0.5vw;
          border-right-color: lightgray;
          border-top-color: lightgray;
        }
        & img {
          min-width: 100vw * @ratio-nav / 2.6;
          max-width: 100vw * @ratio-nav / 2.6;
        }
        & span {
          padding-top: 0.6vw;
          font-weight: bold;
          font-size: 1.1vw;
          letter-spacing: 0.05vw;
        }
      }
      &:hover {
        background-color: @theme-color-3; // initial level highligted
        color: @theme-color-1;
        & .b-nav__menu-L1 {
          .ul-visible;
          & .b-nav__menu-L2 {
            .ul-hidden;
          }
          & li {
            height: 2rem; // modified height
            .li-visible;
            width: 300px; // !!!!! SET WIDTH HERE
            &:hover {
              background-color: @theme-color-1; // second level highlited
              color: @theme-color-5;
              & .b-nav__menu-L2 {
                .ul-visible;
                & li {
                  .li-visible;
                  width: 500px;
                  &:hover {
                    background-color: black; // third level highlited
                    color: @theme-color-5;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

/* Mobile-landscape (and larger) */
@media screen and (min-width: @screen-xs) {
  .b-nav {
    background-color: chocolate;
  }
}

/* Tablet-portrait (and larger) */
@media screen and (min-width: @screen-sm) {
  .b-nav {
    background-color: burlywood;
  }
}

/* Tablet-landscape (and larger) */
@media screen and (min-width: @screen-md) {
  .b-nav {
    background-color: @theme-color-5;
    min-width: @ratio-nav-p;
    max-width: @ratio-nav-p;
    &__menu-container {
      display: block;
    }
  }
}

/* Laptops (and langer) */
@media screen and (min-width: @screen-lg) {
  .b-nav {
    &__menu-L0 {
      & li {
        & a {
          & img {
            min-width: 100vw * @ratio-nav / 2.8;
            max-width: 100vw * @ratio-nav / 2.8;
          }
          & span {
            padding-top: 0.6vw;
            font-size: 1vw;
            letter-spacing: 0.05vw;
          }
        }
      }
    }
  }
}

/* Desktops (and langer) */
@media screen and (min-width: @screen-xl) {
  .b-nav {
    &__menu-L0 {
      & li {
        & a {
          & img {
            min-width: 100vw * @ratio-nav / 3;
            max-width: 100vw * @ratio-nav / 3;
          }
          & span {
            padding-top: 0.8vw;
            font-size: 0.8vw;
            letter-spacing: 0.05vw;
          }
        }
      }
    }
  }
}
